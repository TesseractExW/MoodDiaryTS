<%- include('header'); -%>
<html>
    <head>
        <title>
            MoodDiary - login
        </title>
    </head>
    <body>
        <div class="main">
            <h1>
                Login page
            </h1>
            <input id="username" placeholder="username : "></input>
            <input id="password" placeholder="password : " type="password"></input>
            <button onclick="submit()">submit</button>
        </div>
        
        <script>
            function submit()
            {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
        
                console.log(username, password);
                fetch('/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'credentials': 'same-origin',
                    },
                    body: JSON.stringify({
                        username : username,
                        password : password,
                    }) 
                })
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                    alert(data.message);
                })
            }
        </script>
    </body>
</html>
